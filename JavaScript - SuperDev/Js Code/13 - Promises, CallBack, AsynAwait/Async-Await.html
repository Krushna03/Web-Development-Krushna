<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
<body>
   <script>

//Async/Await = Async : Makes a function return a promise.
//              Await : Makes a async function wait for a promise 
//              Allows you write asynchronous code in a synchronous manner
//              Everything after Await is placed in an event queue.

 
  function walkdog() {
      return new Promise((resolve,reject) => {
          setTimeout( () => {
            
            const dogWalked = true;
            if(dogWalked) {
               resolve('You walk the dog ');
            }
            else {
               reject("You DIDN'T walk the dog");
            }

          }, 1500)
       });
   };

   function cleanKitchen() {
      return new Promise((resolve,reject) => {
          setTimeout( () => {

            const kitchenCleaned = false;
            if(kitchenCleaned) {
               resolve('You clean the kitchen');
            }
            else {
               reject("You DIDN'T clean the kitchen");
            }
             
          }, 2500)
       });
   };


   function takeOutTrash() {
      return new Promise((resolve,reject) => {
          setTimeout( () => {

            const trashTakeOut = true;
            if(trashTakeOut) {
               resolve('You take out the trash');
            }
            else {
               reject("You DIDN'T  take out the trash");
            }
             
          }, 500)
       });
   };

     async function doTasks() {
        try {
            const dogResult = await walkdog();
            console.log(dogResult);

            const kitchenResult = await cleanKitchen();
            console.log(kitchenResult);

            const trashResult = await takeOutTrash();
            console.log(trashResult);

            console.log("You finished all the Tasks");
        }
        catch(error) {
           console.error(error);
        }
     }
     doTasks();






      //function 1
       function api() {
          return new Promise((resolve,reject) => {
             setTimeout( () => {
                console.log('weather data');
                resolve(200);
             }, 2000);
          });
       };
       async function getWeatherData() {
         await api(); //1st call
         await api(); //2nd call
       }
       

 //function 2
       function getData(dataId){
         return new Promise((resolve,reject) => {
            setTimeout( () => {
               console.log('data', dataId);
               resolve('success');
            }, 2000);
         });
         }
         async function getAllData() {
            console.log('getting data1....');
            await getData(1);
            console.log('getting data2....');
            await getData(2);
            console.log('getting data3....');
            await getData(3);
         }
       
     // IIFE function
        (async function () {
            console.log('getting data1....');
            await getData(1);
            console.log('getting data2....');
            await getData(2);
            console.log('getting data3....');
            await getData(3);
         }) ();
   </script>
</body>
</html>